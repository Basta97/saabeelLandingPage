<section class="sb-contact-section">
    <div class="container">
        <div class="sb-contact-layout">
            <!-- Left Side - Contact Info -->
            <div class="sb-contactus">
                <div class="sb-contactus-intro">
                    <app-section-title refText="تواصل معنا"></app-section-title>
                    <div class="sb-contactus-header">
                        <h1>راسل فريقنا</h1>
                        <p>شاركنا بياناتك وسيقوم فريق خدمة العملاء بالتواصل معك مباشرة.</p>
                    </div>
                </div>

                <div class="sb-contactus-det">
                    <a href="tel:+201040436991" class="sb-contact-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 32 32">
                            <path fill="#5156BE" stroke="#5156BE" stroke-width=".15"
                                d="M5.29565 3.17676c.58053.00015 1.09463.30883 1.47071.625.37684.31683.62501.65007.67578.71777l.00293.00293L10.323 8.75293c.2857.3742.5643 1.03703.5088 1.82227-.0558.7882-.4465 1.6929-1.48439 2.5478h-.00097c-.76366.627-.88006 1.3523-.79297 1.9463.08738.5958.38043 1.0608.44531 1.1553.52462.6394 1.21792 1.474 1.81642 2.1856.4509.5359.8458.9992 1.0762 1.2568l.1709.1846.0019.0019.1377.1436c2.1636 2.2553 3.4252 2.7148 4.0752 2.7148.1281 0 .2831-.0162.4473-.0957.1638-.0793.3429-.2245.5136-.4932l.208-.3076c1.0435-1.4573 2.1499-1.7821 2.92-1.7822.9133 0 1.545.4421 1.6425.5176l4.4053 2.8086c.3017.0848.9233.3371 1.2949 1.0195l.0713.1436c.463 1.0483.0955 2.4897-1.042 4.2714-.9948 1.5625-2.7026 2.378-4.9209 2.378-2.5963 0-5.0703-1.0884-5.1718-1.1358v-.0009c-.0198-.0083-.0371-.0174-.0508-.0254-.0165-.0097-.0261-.0155-.0362-.0205l-.0068-.0039c-.231-.1485-3.0518-1.9625-6.2939-4.7002-3.24046-2.7364-6.90961-6.4027-8.83011-10.2569C.115117 12.3837-.17325 9.95342.576904 7.7959l.09961-.2666C1.74792 4.82289 4.13983 3.56864 4.47437 3.40137c.25185-.14219.5326-.22461.82128-.22461Z" />
                            <path fill="#5156BE"
                                d="M27.5397 23.1886c-.1294-.0001-.2559-.0385-.3636-.1104-.1077-.0718-.1916-.1739-.2415-.2933-.0498-.1195-.0632-.251-.0385-.3782.0248-.127.0865-.2439.1775-.336 2.1721-2.1956 3.3688-5.095 3.3688-8.1637 0-6.44594-5.3169-11.69065-11.8522-11.69065-3.0274 0-5.909 1.12508-8.1132 3.16717-.0629.06041-.1371.10769-.2185.13909-.0813.03139-.168.04628-.2552.04377-.08712-.00249-.17289-.02232-.25228-.05833-.07939-.036-.15081-.08747-.21011-.15137-.05928-.06392-.10525-.13899-.13521-.22086-.02995-.08186-.04331-.16888-.03927-.25597.00404-.08708.02537-.17248.06278-.25123.0374-.07874.09011-.14925.15505-.2074C12.0337 2.15239 15.2515.895308 18.5902.902866c7.2599 0 13.1649 5.833524 13.1649 13.003534 0 3.4166-1.3312 6.6428-3.748 9.0873-.061.0619-.1339.111-.2141.1443-.0802.0333-.1664.051-.2533.0506Z" />
                            <path fill="#5156BE" stroke="#5156BE" stroke-width=".2"
                                d="M15.1685 7.95361h.0009c.811.00008 1.3768.27298 1.7403.66895.365.39778.5341.92853.5341 1.45504 0 .679-.2489 1.2981-.705 1.9434-.3432.4853-.8011.9822-1.3535 1.5283l-.5831.5635-.6191.5635-.0322.0293v.1679h3.4834v.6592h-4.751v-.4922l.792-.7597c.9891-.9289 1.7149-1.645 2.1934-2.2764.48-.6335.7192-1.1899.7255-1.7959v-.001c0-.40244-.0994-.80281-.3603-1.1035-.2635-.3033-.6791-.49118-1.2793-.49121-.6724 0-1.2362.30738-1.6084.58985l-.2471-.54102c.5905-.46133 1.3186-.71203 2.0694-.70801Zm7.8681.13086v4.75293h.0996l.9834-.001v.6143h-1.083v2.081h-.791v-2.081h-3.6035v-.5508l3.4111-4.81543h.9834Zm8.0625 5.26563c.1476-.0007.2896.0573.3946.1611.0785.0778.1313.1766.1533.2832l.0117.1094c.0008.1476-.0573.2896-.1611.3945-.1039.1048-.2452.1643-.3926.1651h-.001l-3.2227.0342h-.0068c-.0364.0001-.0728-.0029-.1084-.0098l-.1045-.0313c-.0676-.0276-.1297-.0687-.1816-.1201-.0517-.0514-.0929-.1126-.1211-.1797-.0282-.0672-.0426-.1399-.043-.2129-.0003-.0729.0135-.1453.041-.2128.0277-.0675.0681-.129.1192-.1807.0514-.052.1132-.0938.1806-.1221.0335-.014.0682-.025.1036-.0322l.1093-.0107 3.2227-.0352h.0068Zm-9.042-4.41406c-.234.4422-.4222.77387-.6357 1.11716l-1.8975 2.6055-.0185.0264v.1513h2.7402v-2.6533c0-.39799.0129-.79534.0391-1.19335l.0068-.10645h-.2061l-.0283.05274Zm-3.4677-7.93262c.1464-.00001.2875.05827.3916.16113.1039.10281.1631.24246.165.38867l.0352 3.11328c.0013.14736-.0561.28931-.1592.39454-.1032.10533-.2442.16537-.3916.16699h-.0059c-.1464.00001-.2873-.05807-.3916-.16114-.104-.103-.1634-.24325-.165-.38964l-.0342-3.11133c-.0015-.14749.056-.29013.1592-.39551.0772-.0788.1758-.13177.2822-.1543l.1094-.01269h.0049Z" />
                        </svg>
                        <span dir="ltr">+201040436991</span>
                    </a>

                    <a href="mailto:hi@saabeel.com" class="sb-contact-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 32 32">
                            <g fill="#5156BE" clip-path="url(#a)">
                                <path
                                    d="M28.4717 2.9371h-8.8616L15.9999.180176 12.3897 3.00274H3.52814v6.95795L.246094 12.5208v19.364H31.7537V12.455l-3.282-2.55995V2.9371ZM15.9999 1.82121 17.444 2.9371h-2.8881l1.444-1.11589Zm11.159 2.42871V14.7525l-11.159 7.7456-11.15893-7.7456V4.24992H27.1589ZM3.52814 13.8335 2.0184 12.7833l1.50974-1.1816v2.2318ZM1.55891 30.5064v-16.476L15.9999 24.0735l14.441-10.0431v16.476H1.55891ZM29.9814 12.7833l-1.5097 1.0502v-2.2318l1.5097 1.1816Z" />
                                <path
                                    d="M23.877 6.21924H7.4668v1.31282H23.877V6.21924Zm0 3.93896H7.4668v1.3128H23.877v-1.3128Zm0 3.938H7.4668v1.3129H23.877v-1.3129Z" />
                            </g>
                            <defs>
                                <clipPath id="a">
                                    <path fill="#fff" d="M0 0h32v32H0z" />
                                </clipPath>
                            </defs>
                        </svg>
                        Hi&#64;saabeel.com
                    </a>

                    <a href="#" class="sb-contact-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 32 32">
                            <path fill="#5156BE" stroke="#5156BE" stroke-width=".2"
                                d="M16.1797.900391c5.1171 0 9.2802 4.162269 9.2803 9.279309 0 1.243-.5317 2.9368-1.3233 4.7754-.7932 1.8422-1.8532 3.8436-2.9238 5.706-2.1409 3.7244-4.327 6.9017-4.5068 7.1621-.1195.1733-.3162.2764-.5264.2764-.2099-.0001-.407-.1024-.5264-.2754-.1789-.2592-2.3645-3.4379-4.5058-7.1631-1.0707-1.8624-2.13161-3.8637-2.92484-5.706-.79158-1.8385-1.32227-3.5325-1.32227-4.7754C6.90055 5.06276 11.0627.900551 16.1797.900391Zm0 1.279299c-4.4109.00016-7.99985 3.58912-8.00001 8.00001 0 .9644.39012 2.2977 1.01172 3.8057.6202 1.5045 1.46629 3.1712 2.36819 4.7988 1.7482 3.155 3.7031 6.156 4.6201 7.5303.9168-1.3743 2.8727-4.3749 4.6211-7.5303.9018-1.6276 1.7479-3.2944 2.3681-4.7988.6217-1.5079 1.0108-2.8416 1.0108-3.8057-.0002-4.41099-3.589-8.00001-8-8.00001Z" />
                            <path fill="#5156BE" stroke="#5156BE" stroke-width=".2"
                                d="M16.1799 6.60742c2.2582 0 4.0957 1.8366 4.0957 4.09468 0 2.2583-1.8374 4.0958-4.0957 4.0958-2.2582-.0001-4.0947-1.8375-4.0947-4.0958 0-2.25806 1.8366-4.09464 4.0947-4.09468Zm0 1.34082c-1.5182.00004-2.7538 1.23581-2.7539 2.75386 0 1.5183 1.2358 2.7539 2.7539 2.754 1.5182 0 2.7539-1.2357 2.7539-2.754 0-1.51807-1.2357-2.75386-2.7539-2.75386ZM8.58008 20.0566c.37027 0 .67066.2997.6709.67 0 .3704-.30049.6709-.6709.6709H6.82812l-1.96679 8.3613H27.1377l-1.9658-8.3613h-1.752c-.3704 0-.6709-.3005-.6709-.6709.0003-.3703.3007-.67.6709-.67h2.2822c.3057 0 .5806.1895.6534.4971l2.2832 9.6836.0127.0762c.0206.1786-.0283.3718-.1407.5136-.1223.1544-.3135.2735-.5253.2735H4.01465c-.21036 0-.40283-.1125-.52637-.2686-.12816-.1618-.17351-.3867-.12695-.5849l2.2832-9.6924v-.001c.07273-.3074.3468-.4969.65235-.4971h2.2832Z" />
                        </svg>
                        مصر - المنصورة
                    </a>
                </div>

                <div class="sb-contact-social">
                    <h4>وسائل التواصل الاجتماعي</h4>
                    <app-sb-social-icons size="medium"></app-sb-social-icons>
                </div>
            </div>

            <!-- Right Side - Contact Form -->
            <div class="sb-form-wrapper">
                @if (!isSubmitted()) {
                <form class="sb-contact-form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="fullName" class="form-label">الاسم الكامل <span
                                    class="sb-required">*</span></label>
                            <input type="text" class="form-control" id="fullName" formControlName="fullName"
                                placeholder="الاسم الكامل">
                            @if (contactForm.get('fullName')?.touched && contactForm.get('fullName')?.errors) {
                            <div class="sb-error-message">
                                @if (contactForm.get('fullName')?.errors?.['required']) {
                                الاسم الكامل مطلوب
                                }
                                @if (contactForm.get('fullName')?.errors?.['minlength']) {
                                يجب أن يكون الاسم 3 أحرف على الأقل
                                }
                            </div>
                            }
                        </div>
                        <div class="col-md-6">
                            <label for="phone" class="form-label">رقم الموبايل <span
                                    class="sb-required">*</span></label>
                            <input type="tel" class="form-control" id="phone" formControlName="phone"
                                placeholder="رقم الموبايل">
                            @if (contactForm.get('phone')?.touched && contactForm.get('phone')?.errors) {
                            <div class="sb-error-message">
                                @if (contactForm.get('phone')?.errors?.['required']) {
                                رقم الموبايل مطلوب
                                }
                                @if (contactForm.get('phone')?.errors?.['pattern']) {
                                يرجى إدخال رقم صحيح
                                }
                            </div>
                            }
                        </div>
                    </div>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="email" class="form-label">البريد الإلكتروني <span
                                    class="sb-required">*</span></label>
                            <input type="email" class="form-control" id="email" formControlName="email"
                                placeholder="البريد الإلكتروني">
                            @if (contactForm.get('email')?.touched && contactForm.get('email')?.errors) {
                            <div class="sb-error-message">
                                @if (contactForm.get('email')?.errors?.['required']) {
                                البريد الإلكتروني مطلوب
                                }
                                @if (contactForm.get('email')?.errors?.['email']) {
                                يرجى إدخال بريد إلكتروني صحيح
                                }
                            </div>
                            }
                        </div>
                        <div class="col-md-6">
                            <label for="inquiryType" class="form-label">نوع الاستفسار <span
                                    class="sb-required">*</span></label>
                            <select id="inquiryType" class="form-select" formControlName="inquiryType">
                                <option value="" disabled>اختر نوع الاستفسار</option>
                                <option value="general">استفسار عام</option>
                                <option value="support">دعم فني</option>
                                <option value="sales">مبيعات</option>
                                <option value="partnership">شراكات</option>
                            </select>
                            @if (contactForm.get('inquiryType')?.touched && contactForm.get('inquiryType')?.errors) {
                            <div class="sb-error-message">نوع الاستفسار مطلوب</div>
                            }
                        </div>
                    </div>

                    <div class="sb-form-group">
                        <label for="message" class="form-label">الرسالة <span class="sb-required">*</span></label>
                        <textarea class="form-control" id="message" rows="6" formControlName="message"
                            placeholder="اكتب رسالتك هنا..."></textarea>
                        @if (contactForm.get('message')?.touched && contactForm.get('message')?.errors) {
                        <div class="sb-error-message">
                            @if (contactForm.get('message')?.errors?.['required']) {
                            الرسالة مطلوبة
                            }
                            @if (contactForm.get('message')?.errors?.['minlength']) {
                            يجب أن تكون الرسالة 10 أحرف على الأقل
                            }
                        </div>
                        }
                    </div>

                    <div class="sb-form-actions">
                        <button type="submit" class="sb-btn-submit" [disabled]="isSubmitting()">
                            @if (isSubmitting()) {
                            جاري الإرسال...
                            } @else {
                            أرسل رسالتك
                            }
                        </button>
                    </div>
                </form>
                } @else {
                <!-- Success State -->
                <div class="sb-success-message">
                    <div class="sb-success-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none" viewBox="0 0 24 24">
                            <path fill="#25D366"
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                        </svg>
                    </div>
                    <h2>تم إرسال رسالتك بنجاح!</h2>
                    <p>شكراً لتواصلك معنا. سيقوم فريقنا بالرد عليك في أقرب وقت.</p>

                    <div class="sb-whatsapp-prompt">
                        <p class="sb-whatsapp-text">للتواصل الأسرع، تحدث معنا مباشرة عبر واتساب</p>
                        <button class="sb-whatsapp-btn" (click)="openWhatsApp()">
                            <svg viewBox="0 0 32 32" width="24" height="24">
                                <path fill="currentColor"
                                    d="M16 0C7.164 0 0 7.164 0 16c0 2.826.739 5.478 2.033 7.788L0 32l8.484-2.014A15.916 15.916 0 0 0 16 32c8.836 0 16-7.164 16-16S24.836 0 16 0zm9.438 22.713c-.38 1.07-2.23 1.955-3.056 2.089-.827.134-1.896.181-3.062-.191-1.166-.372-3.34-1.297-5.755-3.502-3.014-2.755-4.958-6.125-5.137-6.41-.179-.285-1.492-1.977-1.492-3.772 0-1.795.916-2.683 1.271-3.045.355-.362.78-.453 1.041-.453.261 0 .523.005.751.014.24.01.561-.092.878.669.316.76 1.084 2.643 1.179 2.834.095.191.159.414.032.667-.127.252-.191.414-.38.636-.19.222-.399.495-.57.666-.19.191-.388.397-.167.779.221.382 1.304 2.152 2.797 3.485 1.919 1.713 3.487 2.24 4.004 2.474.517.234.817.195 1.117-.119.3-.314.76-.848 1.22-1.382.46-.534.856-.601 1.185-.453.329.148 2.091 1.023 2.452 1.209.361.186.603.277.691.43.088.153.088.895-.292 1.966z" />
                            </svg>
                            تواصل عبر واتساب
                        </button>
                    </div>

                    <button class="sb-btn-reset" (click)="resetForm()">إرسال رسالة جديدة</button>
                </div>
                }
            </div>
        </div>
    </div>
</section>
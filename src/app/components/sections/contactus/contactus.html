<section class="sb-contact-section">
    <div class="container">
        <div class="sb-contact-layout">
            <!-- Left Side - Contact Info -->
            <div class="sb-contactus">
                <div class="sb-contactus-intro">
                    <app-section-title refText="تواصل معنا" style="align-items: start !important;"></app-section-title>
                    <div class="sb-contactus-header">
                        <h1>راسل فريقنا</h1>
                        <p>شاركنا بياناتك وسيقوم فريق خدمة العملاء بالتواصل معك مباشرة.</p>
                    </div>
                </div>

                <div class="sb-contactus-det">
                    <a href="tel:+201040436991" class="sb-contact-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none">
                            <g fill="#5156BE" clip-path="url(#a)">
                                <path stroke="#5156BE" stroke-width=".15"
                                    d="M5.296 3.177c.58 0 1.094.309 1.47.625.377.317.625.65.676.718l.003.002 2.878 4.23c.286.375.564 1.038.509 1.823-.056.788-.447 1.693-1.485 2.548-.764.627-.88 1.352-.794 1.946.088.596.38 1.061.446 1.156.524.639 1.218 1.474 1.816 2.185.451.536.846 1 1.076 1.257l.171.185.002.002.138.143c2.164 2.255 3.425 2.715 4.075 2.715a1 1 0 0 0 .447-.096c.164-.08.343-.224.514-.493l.208-.308c1.043-1.457 2.15-1.782 2.92-1.782.913 0 1.545.442 1.643.518l4.405 2.808a2.13 2.13 0 0 1 1.295 1.02l.071.143c.463 1.049.095 2.49-1.042 4.272-.995 1.562-2.703 2.378-4.92 2.378-2.597 0-5.071-1.088-5.173-1.136a.435.435 0 0 1-.05-.026c-.017-.01-.027-.016-.037-.02l-.006-.005c-.232-.148-3.052-1.962-6.294-4.7-3.24-2.736-6.91-6.402-8.83-10.257C.114 12.384-.174 9.953.576 7.796l.1-.267c1.07-2.706 3.463-3.96 3.797-4.128.252-.142.533-.224.822-.224Z" />
                            </g>
                        </svg>
                        <span dir="ltr">+201040436991</span>
                    </a>

                    <a href="mailto:hi@saabeel.com" class="sb-contact-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none">
                            <g fill="#5156BE" clip-path="url(#a)">
                                <path
                                    d="M28.472 2.937H19.61L16 .18l-3.61 2.823H3.528V9.96L.246 12.52v19.364h31.508v-19.43l-3.282-2.56V2.937Z" />
                            </g>
                        </svg>
                        hi&#64;saabeel.com
                    </a>

                    <a href="#" class="sb-contact-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none">
                            <path fill="#5156BE" stroke="#5156BE" stroke-width=".2"
                                d="M16.18.9c5.117 0 9.28 4.163 9.28 9.28 0 1.243-.532 2.937-1.323 4.775-.794 1.842-1.854 3.844-2.924 5.706a113.007 113.007 0 0 1-4.507 7.162.64.64 0 0 1-1.053.001c-.179-.259-2.364-3.438-4.505-7.163-1.071-1.862-2.132-3.864-2.925-5.706C7.43 13.117 6.9 11.423 6.9 10.18 6.9 5.063 11.063.9 16.18.9Z" />
                        </svg>
                        مصر - المنصورة
                    </a>
                </div>

                <div class="sb-contact-social">
                    <h4>وسائل التواصل الاجتماعي</h4>
                    <app-sb-social-icons size="medium"></app-sb-social-icons>
                </div>
            </div>

            <!-- Right Side - Contact Form -->
            <div class="sb-form-wrapper">
                @if (!isSubmitted()) {
                <form class="sb-contact-form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="fullName" class="form-label">الاسم الكامل <span
                                    class="sb-required">*</span></label>
                            <input type="text" class="form-control" id="fullName" formControlName="fullName"
                                placeholder="الاسم الكامل">
                            @if (contactForm.get('fullName')?.touched && contactForm.get('fullName')?.errors) {
                            <div class="sb-error-message">
                                @if (contactForm.get('fullName')?.errors?.['required']) {
                                الاسم الكامل مطلوب
                                }
                                @if (contactForm.get('fullName')?.errors?.['minlength']) {
                                يجب أن يكون الاسم 3 أحرف على الأقل
                                }
                            </div>
                            }
                        </div>
                        <div class="col-md-6">
                            <label for="phone" class="form-label">رقم الموبايل <span
                                    class="sb-required">*</span></label>
                            <input type="tel" class="form-control" id="phone" formControlName="phone"
                                placeholder="رقم الموبايل">
                            @if (contactForm.get('phone')?.touched && contactForm.get('phone')?.errors) {
                            <div class="sb-error-message">
                                @if (contactForm.get('phone')?.errors?.['required']) {
                                رقم الموبايل مطلوب
                                }
                                @if (contactForm.get('phone')?.errors?.['pattern']) {
                                يرجى إدخال رقم صحيح
                                }
                            </div>
                            }
                        </div>
                    </div>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="email" class="form-label">البريد الإلكتروني <span
                                    class="sb-required">*</span></label>
                            <input type="email" class="form-control" id="email" formControlName="email"
                                placeholder="البريد الإلكتروني">
                            @if (contactForm.get('email')?.touched && contactForm.get('email')?.errors) {
                            <div class="sb-error-message">
                                @if (contactForm.get('email')?.errors?.['required']) {
                                البريد الإلكتروني مطلوب
                                }
                                @if (contactForm.get('email')?.errors?.['email']) {
                                يرجى إدخال بريد إلكتروني صحيح
                                }
                            </div>
                            }
                        </div>
                        <div class="col-md-6">
                            <label for="inquiryType" class="form-label">نوع الاستفسار <span
                                    class="sb-required">*</span></label>
                            <select id="inquiryType" class="form-select" formControlName="inquiryType">
                                <option value="" disabled>اختر نوع الاستفسار</option>
                                <option value="general">استفسار عام</option>
                                <option value="support">دعم فني</option>
                                <option value="sales">مبيعات</option>
                                <option value="partnership">شراكات</option>
                            </select>
                            @if (contactForm.get('inquiryType')?.touched && contactForm.get('inquiryType')?.errors) {
                            <div class="sb-error-message">نوع الاستفسار مطلوب</div>
                            }
                        </div>
                    </div>

                    <div class="sb-form-group">
                        <label for="message" class="form-label">الرسالة <span class="sb-required">*</span></label>
                        <textarea class="form-control" id="message" rows="6" formControlName="message"
                            placeholder="اكتب رسالتك هنا..."></textarea>
                        @if (contactForm.get('message')?.touched && contactForm.get('message')?.errors) {
                        <div class="sb-error-message">
                            @if (contactForm.get('message')?.errors?.['required']) {
                            الرسالة مطلوبة
                            }
                            @if (contactForm.get('message')?.errors?.['minlength']) {
                            يجب أن تكون الرسالة 10 أحرف على الأقل
                            }
                        </div>
                        }
                    </div>

                    <div class="sb-form-actions">
                        <button type="submit" class="sb-btn-submit" [disabled]="isSubmitting()">
                            @if (isSubmitting()) {
                            جاري الإرسال...
                            } @else {
                            أرسل رسالتك
                            }
                        </button>
                    </div>
                </form>
                } @else {
                <!-- Success State -->
                <div class="sb-success-message">
                    <div class="sb-success-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none" viewBox="0 0 24 24">
                            <path fill="#25D366"
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                        </svg>
                    </div>
                    <h2>تم إرسال رسالتك بنجاح!</h2>
                    <p>شكراً لتواصلك معنا. سيقوم فريقنا بالرد عليك في أقرب وقت.</p>

                    <div class="sb-whatsapp-prompt">
                        <p class="sb-whatsapp-text">للتواصل الأسرع، تحدث معنا مباشرة عبر واتساب</p>
                        <button class="sb-whatsapp-btn" (click)="openWhatsApp()">
                            <svg viewBox="0 0 32 32" width="24" height="24">
                                <path fill="currentColor"
                                    d="M16 0C7.164 0 0 7.164 0 16c0 2.826.739 5.478 2.033 7.788L0 32l8.484-2.014A15.916 15.916 0 0 0 16 32c8.836 0 16-7.164 16-16S24.836 0 16 0zm9.438 22.713c-.38 1.07-2.23 1.955-3.056 2.089-.827.134-1.896.181-3.062-.191-1.166-.372-3.34-1.297-5.755-3.502-3.014-2.755-4.958-6.125-5.137-6.41-.179-.285-1.492-1.977-1.492-3.772 0-1.795.916-2.683 1.271-3.045.355-.362.78-.453 1.041-.453.261 0 .523.005.751.014.24.01.561-.092.878.669.316.76 1.084 2.643 1.179 2.834.095.191.159.414.032.667-.127.252-.191.414-.38.636-.19.222-.399.495-.57.666-.19.191-.388.397-.167.779.221.382 1.304 2.152 2.797 3.485 1.919 1.713 3.487 2.24 4.004 2.474.517.234.817.195 1.117-.119.3-.314.76-.848 1.22-1.382.46-.534.856-.601 1.185-.453.329.148 2.091 1.023 2.452 1.209.361.186.603.277.691.43.088.153.088.895-.292 1.966z" />
                            </svg>
                            تواصل عبر واتساب
                        </button>
                    </div>

                    <button class="sb-btn-reset" (click)="resetForm()">إرسال رسالة جديدة</button>
                </div>
                }
            </div>
        </div>
    </div>
</section>
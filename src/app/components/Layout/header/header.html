<header class="sb-header-wrapper" [class.sb-header-hidden]="!isHeaderVisible()">
  <!-- Full page overlay -->
  <div class="sb-menu-overlay" [class.sb-open]="isMenuOpen()" (click)="toggleMenu()"></div>

  <div class="container">
    <!-- Desktop top bar ONLY -->
    <div
      class="sb-top-bar d-flex justify-content-between align-items-center mb-2 pb-2 border-bottom border-secondary d-none d-lg-flex">
      <app-sb-social-icons size="small"></app-sb-social-icons>

      <div class="sb-contact-info d-flex gap-4 align-items-center text-white">
        <div class="sb-contact-item">
          <a href="mailto:hi@saabeel.com" target="_blank">hi@saabeel.com</a>
          <img src="icons/mail_icon.svg" alt="Mail" class="sb-contact-icon">
        </div>
        <div class="sb-contact-item">
          <a href="https://wa.me/201040436991" target="_blank" rel="noopener">+201040436991</a>
          <img src="icons/call_icon.svg" alt="Call" class="sb-contact-icon">
        </div>
      </div>
    </div>

    <!-- Main nav -->
    <nav class="sb-navbar">
      <div class="container-fluid p-0 d-flex justify-content-between align-items-center">
        <!-- Desktop CTA -->
        <a routerLink="/" fragment="contact"
          class="sb-btn-primary px-4 py-2 d-none d-lg-block text-decoration-none">ุงุจุฏุฃ ุงูุขู</a>

        <!-- Mobile/Desktop nav container -->
        <div class="sb-nav-container d-flex align-items-center gap-2">
          <!-- Mobile/Desktop menu -->
          <div class="sb-nav" [class.sb-open]="isMenuOpen()">
            <!-- MOBILE: Logo -->
            <div class="sb-mobile-menu-header d-lg-none">
              <img src="logo/saabeel-logo.svg" alt="Saabeel Logo" class="sb-mobile-menu-logo">
            </div>

            <!-- Nav links -->
            <ul class="navbar-nav text-end flex-row-reverse d-lg-flex" [class.sb-animated]="isMenuOpen()">
              <li class="nav-item" style="--i:1"><a class="nav-link sb-nav-link" routerLink="/"
                  routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                  (click)="isMenuOpen() && toggleMenu()">ุงูุฑุฆูุณูุฉ</a></li>
              <li class="nav-item" style="--i:2"><a class="nav-link sb-nav-link" routerLink="/" fragment="about"
                  (click)="isMenuOpen() && toggleMenu()">ุนู ุณุจูู</a>
              </li>
              <li class="nav-item" style="--i:3"><a class="nav-link sb-nav-link" routerLink="/features"
                  routerLinkActive="active" (click)="isMenuOpen() && toggleMenu()">ุงููููุฒุงุช</a></li>
              <li class="nav-item" style="--i:4"><a class="nav-link sb-nav-link" routerLink="/" fragment="faq"
                  (click)="isMenuOpen() && toggleMenu()">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a>
              </li>
              <li class="nav-item" style="--i:5"><a class="nav-link sb-nav-link" routerLink="/blog"
                  routerLinkActive="active" (click)="isMenuOpen() && toggleMenu()">ุงููุฏููุฉ</a></li>
              <li class="nav-item" style="--i:6"><a class="nav-link sb-nav-link" routerLink="/" fragment="contact"
                  (click)="isMenuOpen() && toggleMenu()">ุชูุงุตู ูุนูุง</a>
              </li>
            </ul>

            <!-- Mobile Only Content -->
            <div class="sb-mobile-extra d-lg-none">
              <div class="sb-mobile-contact-section">
                <p class="sb-mobile-label">ุชูุงุตู ูุนูุง</p>
                <div class="sb-mobile-contact-links">
                  <a href="tel:+201040436991" class="sb-mobile-contact-pill">
                    <span>+201040436991</span>
                    <img src="icons/call_icon.svg" alt="Call">
                  </a>
                  <a href="mailto:hi@saabeel.com" class="sb-mobile-contact-pill">
                    <span>hi@saabeel.com</span>
                    <img src="icons/mail_icon.svg" alt="Mail">
                  </a>
                </div>
              </div>

              <!-- Mobile CTA -->
              <div class="nav-item mt-4 w-100">
                <a routerLink="/" fragment="contact" (click)="toggleMenu()"
                  class="sb-btn-primary w-100 py-3 text-decoration-none d-block text-center">ุงุจุฏุฃ ุงูุขู</a>
              </div>

              <!-- Social icons -->
              <div class="sb-mobile-social-section mt-auto">
                <p class="sb-mobile-label">ุชุงุจุนูุง ุนูู</p>
                <app-sb-social-icons size="medium"></app-sb-social-icons>
              </div>
            </div>
          </div>


          <!-- Hamburger -->
          <button title="menuBar" class="sb-hamburger d-lg-none" (click)="toggleMenu()" [class.sb-open]="isMenuOpen()">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>

        <!-- Logo -->
        <a class="navbar-brand" href="#">
          <img src="logo/saabeel-logo.svg" alt="Saabeel Logo" class="sb-logo">
        </a>
      </div>
    </nav>
  </div>
</header>

<!-- ๐ฅ FLOATING WHATSAPP BUTTON with MINI CHAT -->
<div class="whatsapp-floating-container">
  <!-- Mini Chat Window -->
  <div class="sb-whatsapp-chat" [class.sb-open]="isChatOpen()">
    <div class="sb-chat-header">
      <div class="sb-chat-header-info">
        <img src="logo/saabeel-logo.svg" alt="Saabeel" class="sb-chat-avatar">
        <div class="sb-chat-header-text">
          <span class="sb-chat-name">ุณุจูู</span>
          <span class="sb-chat-status">ูุชุตู ุงูุขู</span>
        </div>
      </div>
      <button class="sb-chat-close" (click)="toggleChat()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2">
          <path d="M18 6L6 18M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="sb-chat-body">
      <div class="sb-chat-message">
        <p>ูุฑุญุจุงู! ๐</p>
        <p>ููู ูููููุง ูุณุงุนุฏุชู ุงููููุ</p>
      </div>
    </div>
    <div class="sb-chat-footer">
      <button class="sb-chat-whatsapp-btn" (click)="openWhatsApp()">
        <svg viewBox="0 0 32 32" width="20" height="20">
          <path fill="currentColor"
            d="M16 0C7.164 0 0 7.164 0 16c0 2.826.739 5.478 2.033 7.788L0 32l8.484-2.014A15.916 15.916 0 0 0 16 32c8.836 0 16-7.164 16-16S24.836 0 16 0zm9.438 22.713c-.38 1.07-2.23 1.955-3.056 2.089-.827.134-1.896.181-3.062-.191-1.166-.372-3.34-1.297-5.755-3.502-3.014-2.755-4.958-6.125-5.137-6.41-.179-.285-1.492-1.977-1.492-3.772 0-1.795.916-2.683 1.271-3.045.355-.362.78-.453 1.041-.453.261 0 .523.005.751.014.24.01.561-.092.878.669.316.76 1.084 2.643 1.179 2.834.095.191.159.414.032.667-.127.252-.191.414-.38.636-.19.222-.399.495-.57.666-.19.191-.388.397-.167.779.221.382 1.304 2.152 2.797 3.485 1.919 1.713 3.487 2.24 4.004 2.474.517.234.817.195 1.117-.119.3-.314.76-.848 1.22-1.382.46-.534.856-.601 1.185-.453.329.148 2.091 1.023 2.452 1.209.361.186.603.277.691.43.088.153.088.895-.292 1.966z" />
        </svg>
        ุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ
      </button>
    </div>
  </div>

  <!-- Floating Button -->
  <button class="whatsapp-floating-btn" (click)="toggleChat()" aria-label="ุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ">
    <svg viewBox="0 0 32 32" class="whatsapp-floating-icon" [class.sb-hidden]="isChatOpen()">
      <path fill="currentColor"
        d="M16 0C7.164 0 0 7.164 0 16c0 2.826.739 5.478 2.033 7.788L0 32l8.484-2.014A15.916 15.916 0 0 0 16 32c8.836 0 16-7.164 16-16S24.836 0 16 0zm9.438 22.713c-.38 1.07-2.23 1.955-3.056 2.089-.827.134-1.896.181-3.062-.191-1.166-.372-3.34-1.297-5.755-3.502-3.014-2.755-4.958-6.125-5.137-6.41-.179-.285-1.492-1.977-1.492-3.772 0-1.795.916-2.683 1.271-3.045.355-.362.78-.453 1.041-.453.261 0 .523.005.751.014.24.01.561-.092.878.669.316.76 1.084 2.643 1.179 2.834.095.191.159.414.032.667-.127.252-.191.414-.38.636-.19.222-.399.495-.57.666-.19.191-.388.397-.167.779.221.382 1.304 2.152 2.797 3.485 1.919 1.713 3.487 2.24 4.004 2.474.517.234.817.195 1.117-.119.3-.314.76-.848 1.22-1.382.46-.534.856-.601 1.185-.453.329.148 2.091 1.023 2.452 1.209.361.186.603.277.691.43.088.153.088.895-.292 1.966z" />
    </svg>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" class="whatsapp-close-icon" [class.sb-visible]="isChatOpen()">
      <path d="M18 6L6 18M6 6l12 12" />
    </svg>
  </button>
</div>